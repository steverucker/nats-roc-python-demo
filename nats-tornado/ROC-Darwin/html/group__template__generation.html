<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>ROC SDK: Template Generation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="r1-64x64.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ROC SDK
   &#160;<span id="projectnumber">1.7.0</span>
   </div>
   <div id="projectbrief">Software for scalable image search</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Template Generation</div>  </div>
</div><!--header-->
<div class="contents">

<p>Process faces in an image.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:structroc__template"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__template__generation.html#structroc__template">roc_template</a></td></tr>
<tr class="memdesc:structroc__template"><td class="mdescLeft">&#160;</td><td class="mdescRight">A digital encoding of a face.  <a href="group__template__generation.html#structroc__template">More...</a><br /></td></tr>
<tr class="separator:structroc__template"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga64c21f5bb30ab9053888ed9565f6a739"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__template__generation.html#ga64c21f5bb30ab9053888ed9565f6a739">ROC_NO_TIMESTAMP</a>&#160;&#160;&#160;0xFFFFFFFF</td></tr>
<tr class="memdesc:ga64c21f5bb30ab9053888ed9565f6a739"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default value for <a class="el" href="group__template__generation.html#ae80b4f3992238f99dfd9a1ca59e37899">roc_template::timestamp</a>, indicating the template was generated from a still image.  <a href="#ga64c21f5bb30ab9053888ed9565f6a739">More...</a><br /></td></tr>
<tr class="separator:ga64c21f5bb30ab9053888ed9565f6a739"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6f366f6f2ee8adef553625abf2bafd44"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__template__generation.html#ga6f366f6f2ee8adef553625abf2bafd44">ROC_UNKNOWN_PERSON</a>&#160;&#160;&#160;0xFFFFFFFF</td></tr>
<tr class="memdesc:ga6f366f6f2ee8adef553625abf2bafd44"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default value for <a class="el" href="group__template__generation.html#ae9c5e44ff182412d109d1163987d62ae">roc_template::person_id</a>, indicating the template has no known associations.  <a href="#ga6f366f6f2ee8adef553625abf2bafd44">More...</a><br /></td></tr>
<tr class="separator:ga6f366f6f2ee8adef553625abf2bafd44"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga18dd00d1cdedda7be7e6103b69d8ef04"><td class="memItemLeft" align="right" valign="top">typedef uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__template__generation.html#ga18dd00d1cdedda7be7e6103b69d8ef04">roc_algorithm_id</a></td></tr>
<tr class="memdesc:ga18dd00d1cdedda7be7e6103b69d8ef04"><td class="mdescLeft">&#160;</td><td class="mdescRight">A combination of <a class="el" href="group__template__generation.html#ga41aa0ed23d103b43850128951e1ea29a">roc_algorithm_options</a>.  <a href="#ga18dd00d1cdedda7be7e6103b69d8ef04">More...</a><br /></td></tr>
<tr class="separator:ga18dd00d1cdedda7be7e6103b69d8ef04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae7fdaa1c8ceeea43aaf6c041835ee250"><td class="memItemLeft" align="right" valign="top">typedef uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__template__generation.html#gae7fdaa1c8ceeea43aaf6c041835ee250">roc_person_id</a></td></tr>
<tr class="memdesc:gae7fdaa1c8ceeea43aaf6c041835ee250"><td class="mdescLeft">&#160;</td><td class="mdescRight">A unique identifier used to associate multiple <a class="el" href="group__template__generation.html#structroc__template">roc_template</a>.  <a href="#gae7fdaa1c8ceeea43aaf6c041835ee250">More...</a><br /></td></tr>
<tr class="separator:gae7fdaa1c8ceeea43aaf6c041835ee250"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5a18ec2e35732223536d3ed33c417122"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="group__template__generation.html#structroc__template">roc_template</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__template__generation.html#ga5a18ec2e35732223536d3ed33c417122">roc_template</a></td></tr>
<tr class="memdesc:ga5a18ec2e35732223536d3ed33c417122"><td class="mdescLeft">&#160;</td><td class="mdescRight">A digital encoding of a face.  <a href="#ga5a18ec2e35732223536d3ed33c417122">More...</a><br /></td></tr>
<tr class="separator:ga5a18ec2e35732223536d3ed33c417122"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga41aa0ed23d103b43850128951e1ea29a"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__template__generation.html#ga41aa0ed23d103b43850128951e1ea29a">roc_algorithm_options</a> { <br />
&#160;&#160;<a class="el" href="group__template__generation.html#gga41aa0ed23d103b43850128951e1ea29aabfae75b262681b48812700295fe87b8b">ROC_FRONTAL</a> = 0x0000, 
<a class="el" href="group__template__generation.html#gga41aa0ed23d103b43850128951e1ea29aa8ce4c83b73e87e1c818c502fec9e8e00">ROC_FULL</a> = 0x0001, 
<a class="el" href="group__template__generation.html#gga41aa0ed23d103b43850128951e1ea29aa7ee670c0d340cacbe3f72f0224a9c1a6">ROC_PARTIAL</a> = 0x0002, 
<a class="el" href="group__template__generation.html#gga41aa0ed23d103b43850128951e1ea29aa71e38ae9892dfb94c2647cdfc99de7ed">ROC_MANUAL</a> = 0x0004, 
<br />
&#160;&#160;<a class="el" href="group__template__generation.html#gga41aa0ed23d103b43850128951e1ea29aaf197918f5273b69a8f29fb75f18d7586">ROC_FR</a> = 0x0010, 
<a class="el" href="group__template__generation.html#gga41aa0ed23d103b43850128951e1ea29aaca1a2b1606ebcfb5a0499723bd0c137f">ROC_ID</a> = 0x0020, 
<a class="el" href="group__template__generation.html#gga41aa0ed23d103b43850128951e1ea29aa9ec0d523707a2939ec84406e4bedaa8b">ROC_PITCHYAW</a> = 0x0100, 
<a class="el" href="group__template__generation.html#gga41aa0ed23d103b43850128951e1ea29aa6d704837f6f475eff63fea4d1533f462">ROC_GENDER</a> = 0x0200, 
<br />
&#160;&#160;<a class="el" href="group__template__generation.html#gga41aa0ed23d103b43850128951e1ea29aacdffb53ddb508920556bc4f5d2e12020">ROC_AGE</a> = 0x0400, 
<a class="el" href="group__template__generation.html#gga41aa0ed23d103b43850128951e1ea29aad4946e05b24734fa9949b81f4b023b48">ROC_OCCLUSION</a> = 0x0800, 
<a class="el" href="group__template__generation.html#gga41aa0ed23d103b43850128951e1ea29aab526fb2423af12629c1b7bf5343b4102">ROC_LIPS</a> = 0x1000, 
<a class="el" href="group__template__generation.html#gga41aa0ed23d103b43850128951e1ea29aaef28094ae47743e13f7e20212871672f">ROC_THUMBNAIL</a> = 0x8000, 
<br />
&#160;&#160;<a class="el" href="group__template__generation.html#gga41aa0ed23d103b43850128951e1ea29aadb4ae21de578c370d01d845b77c74c05">ROC_INVALID</a> = 0x010000, 
<a class="el" href="group__template__generation.html#gga41aa0ed23d103b43850128951e1ea29aa84ead5119d2d84cb4cc66a101ff1b1f0">ROC_TEMPLATE_VERSION</a>, 
<a class="el" href="group__template__generation.html#gga41aa0ed23d103b43850128951e1ea29aa767a46240bdc94431828eaed80ddd013">ROC_TEMPLATE_VERSION_MASK</a> = 0x7F000000
<br />
 }<tr class="memdesc:ga41aa0ed23d103b43850128951e1ea29a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Supported algorithm configurations.  <a href="group__template__generation.html#ga41aa0ed23d103b43850128951e1ea29a">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:ga41aa0ed23d103b43850128951e1ea29a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gac8a4c7df842d08d881b779620ebc24bf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__error__handling.html#ga513488f0c61cf769a95033e5a6d901b3">roc_error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__template__generation.html#gac8a4c7df842d08d881b779620ebc24bf">roc_set_thumbnail_parameters</a> (int width, int height, float scale, float quality)</td></tr>
<tr class="memdesc:gac8a4c7df842d08d881b779620ebc24bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the parameters used by <a class="el" href="group__template__generation.html#gga41aa0ed23d103b43850128951e1ea29aaef28094ae47743e13f7e20212871672f">ROC_THUMBNAIL</a> in <a class="el" href="group__template__generation.html#ga6a84075c7ecc6cf800d3f2acdac353aa">roc_represent</a>.  <a href="#gac8a4c7df842d08d881b779620ebc24bf">More...</a><br /></td></tr>
<tr class="separator:gac8a4c7df842d08d881b779620ebc24bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga85ade71483b575925622b072c0d5ef62"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__error__handling.html#ga513488f0c61cf769a95033e5a6d901b3">roc_error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__template__generation.html#ga85ade71483b575925622b072c0d5ef62">roc_preload</a> (<a class="el" href="group__template__generation.html#ga18dd00d1cdedda7be7e6103b69d8ef04">roc_algorithm_id</a> algorithm_id)</td></tr>
<tr class="memdesc:ga85ade71483b575925622b072c0d5ef62"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pre-load the model files to be used by <a class="el" href="group__template__generation.html#ga6a84075c7ecc6cf800d3f2acdac353aa">roc_represent</a>.  <a href="#ga85ade71483b575925622b072c0d5ef62">More...</a><br /></td></tr>
<tr class="separator:ga85ade71483b575925622b072c0d5ef62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacd9b28e0fe3f43e4ac67092ad23f02d3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__error__handling.html#ga513488f0c61cf769a95033e5a6d901b3">roc_error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__template__generation.html#gacd9b28e0fe3f43e4ac67092ad23f02d3">roc_landmarks_to_face</a> (float left_eye_x, float left_eye_y, float right_eye_x, float right_eye_y, float chin_x, float chin_y, float *face_x, float *face_y, float *face_width, float *face_height)</td></tr>
<tr class="memdesc:gacd9b28e0fe3f43e4ac67092ad23f02d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Estimate the face bounding box from landmarks.  <a href="#gacd9b28e0fe3f43e4ac67092ad23f02d3">More...</a><br /></td></tr>
<tr class="separator:gacd9b28e0fe3f43e4ac67092ad23f02d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6a84075c7ecc6cf800d3f2acdac353aa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__error__handling.html#ga513488f0c61cf769a95033e5a6d901b3">roc_error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__template__generation.html#ga6a84075c7ecc6cf800d3f2acdac353aa">roc_represent</a> (<a class="el" href="group__media__decoding.html#structroc__image">roc_image</a> image, <a class="el" href="group__template__generation.html#ga18dd00d1cdedda7be7e6103b69d8ef04">roc_algorithm_id</a> algorithm_id, size_t min_size, size_t k, float false_detection_rate, <a class="el" href="group__template__generation.html#structroc__template">roc_template</a> *templates)</td></tr>
<tr class="memdesc:ga6a84075c7ecc6cf800d3f2acdac353aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Detect faces in an image and process them into templates for comparison.  <a href="#ga6a84075c7ecc6cf800d3f2acdac353aa">More...</a><br /></td></tr>
<tr class="separator:ga6a84075c7ecc6cf800d3f2acdac353aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa6dc3df8ecaa702eba8feac128fdae3d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__error__handling.html#ga513488f0c61cf769a95033e5a6d901b3">roc_error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__template__generation.html#gaa6dc3df8ecaa702eba8feac128fdae3d">roc_free_template</a> (<a class="el" href="group__template__generation.html#structroc__template">roc_template</a> *template_)</td></tr>
<tr class="memdesc:gaa6dc3df8ecaa702eba8feac128fdae3d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call this function on a template after it is no longer needed.  <a href="#gaa6dc3df8ecaa702eba8feac128fdae3d">More...</a><br /></td></tr>
<tr class="separator:gaa6dc3df8ecaa702eba8feac128fdae3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Process faces in an image. </p>
<p>Process faces in an image with <a class="el" href="group__template__generation.html#ga6a84075c7ecc6cf800d3f2acdac353aa">roc_represent</a>. Free a face <a class="el" href="group__template__generation.html#structroc__template">roc_template</a> after use with <a class="el" href="group__template__generation.html#gaa6dc3df8ecaa702eba8feac128fdae3d">roc_free_template</a>. </p>
<hr/><h2 class="groupheader">Data Structure Documentation</h2>
<a name="structroc__template" id="structroc__template"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct roc_template</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>A digital encoding of a face. </p>
<p>A pair of templates can be compared for similarity.</p>
<p>Templates are designed with the following considerations in mind:</p><ul>
<li>Maximizing the retention of the unique identifying characteristics of a face.</li>
<li>Minimizing the computation time needed to compare two templates.</li>
<li>Minimizing the computation time needed to generate a template.</li>
<li>Minimizing the storage space required to save a template.</li>
</ul>
<h1><a class="anchor" id="template_metadata"></a>
Metadata</h1>
<p>A template's <em>metadata</em> is a <a href="http://json.org/"><em>Java Script Object Notation</em> (JSON)</a> string containing at least the following keys: </p><table class="doxtable">
<tr>
<th>Key </th><th>Definition  </th></tr>
<tr>
<td><code>LeftEyeX</code> </td><td>Left eye horizontal location (pixels). </td></tr>
<tr>
<td><code>LeftEyeY</code> </td><td>Left eye vertical location (pixels). </td></tr>
<tr>
<td><code>RightEyeX</code> </td><td>Right eye horizontal location (pixels). </td></tr>
<tr>
<td><code>RightEyeY</code> </td><td>Right eye vertical location (pixels). </td></tr>
<tr>
<td><code>ChinX</code> </td><td>Chin horizontal location (pixels). </td></tr>
<tr>
<td><code>ChinY</code> </td><td>Chin vertical location (pixels). </td></tr>
<tr>
<td><code>Pose</code> </td><td>Pose estimation (Frontal, RightAngled, LeftAngled) </td></tr>
</table>
<p>Additional keys exist for the requested <a class="el" href="group__template__generation.html#metadata_options">Metadata Options</a>. Metadata may be queried and edited using <a class="el" href="group__template__io.html#gaa3b2e16d00505cfae5e125b7fc1fad8f">roc_get_metadata</a> and <a class="el" href="group__template__io.html#ga982ee5ff0a5d7aa63c566e9820ce540c">roc_set_metadata</a>.</p>
<h1><a class="anchor" id="feature_vector"></a>
Feature Vector</h1>
<p>A template's <em>feature vector</em> is the statistical model of the distinguishing characteristics of a face and is the basis for measuring <a class="el" href="group__comparison.html#ga83806aae1401fea0b70991ea4e58df0b">roc_similarity</a>. It is stored in the template as <a class="el" href="group__template__generation.html#a931dc953dc2fd022d1598c72a74ad64e">roc_template::fv</a> and has length <a class="el" href="group__template__generation.html#af784e169e8786d1998a5c0301a236e9f">roc_template::fv_size</a>.</p>
<h1><a class="anchor" id="face_quality"></a>
Face Quality</h1>
<p>A <em>face quality</em> metric is a predictor of how accurately a template will perform in recognition. A higher face quality indicates a lower false non-match rate. The use of a face quality metric most often arises when one has multiple templates of a person and needs to decide which to add to a gallery. Absent of adding all the templates (or some subset thereof using <a class="el" href="group__identity__discovery.html#gac1a923abaccb5c1273cdfb374d33a949">roc_consolidate</a>), we recommend using <a class="el" href="group__template__generation.html#ad19e70ff90746630ef701c896812e2ab">roc_template::confidence</a> as the face quality metric, keeping the template with the highest face detection confidence.</p>
<h1><a class="anchor" id="face_liveness_detection"></a>
Face Liveness Detection</h1>
<p>A <em>face liveness detection</em> algorithm attempts to determine if the detected face is a living person or an impostor trying to defeat the system with a stolen face image.</p>
<p>A <em>dynamic</em> algorithm generally involves asking the user to complete a task. For example, asking the user to turn their head to the left or the right, cover their mouth with their hand, or open their mouth. These movements can be measured using <a class="el" href="group__template__generation.html#gga41aa0ed23d103b43850128951e1ea29aa9ec0d523707a2939ec84406e4bedaa8b">ROC_PITCHYAW</a>, <a class="el" href="group__template__generation.html#gga41aa0ed23d103b43850128951e1ea29aad4946e05b24734fa9949b81f4b023b48">ROC_OCCLUSION</a>, and <a class="el" href="group__template__generation.html#gga41aa0ed23d103b43850128951e1ea29aab526fb2423af12629c1b7bf5343b4102">ROC_LIPS</a> respectively. These algorithms generally have low error rates, at the cost of requiring a few seconds of interaction from the user.</p>
<p>A <em>static</em> algorithm attempts to detect the impostor from a single image. For example, detecting if the face image is on a printed piece of paper or computer screen. These algorithms generaly have higher error rates, with the benefit that they do not require interaction from the user. At the present time, the ROC SDK does not support this type of liveness detection. </p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a991107a8ebce1f2408b333567bb48246"></a><a class="el" href="group__template__generation.html#ga18dd00d1cdedda7be7e6103b69d8ef04">roc_algorithm_id</a></td>
<td class="fieldname">
algorithm_id</td>
<td class="fielddoc">
The value of <a class="el" href="group__template__generation.html#ga18dd00d1cdedda7be7e6103b69d8ef04">roc_algorithm_id</a> passed to <a class="el" href="group__template__generation.html#ga6a84075c7ecc6cf800d3f2acdac353aa">roc_represent</a> to construct this template. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="ae80b4f3992238f99dfd9a1ca59e37899"></a><a class="el" href="group__video__decoding.html#ga92a18b688f7cdc8f0f5198b713ff96e2">roc_time</a></td>
<td class="fieldname">
timestamp</td>
<td class="fielddoc">
Face video timestamp or <a class="el" href="group__template__generation.html#ga64c21f5bb30ab9053888ed9565f6a739">ROC_NO_TIMESTAMP</a> by default. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="abf065af19ba6b48dc4722a26e53b7e29"></a>int32_t</td>
<td class="fieldname">
x</td>
<td class="fielddoc">
Face horizontal offset (pixels). </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="ae3e6faa00675f0e040c890a3abe1e402"></a>int32_t</td>
<td class="fieldname">
y</td>
<td class="fielddoc">
Face vertical offset (pixels). </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a80d874747488d3b47d3970433c22427d"></a>uint32_t</td>
<td class="fieldname">
width</td>
<td class="fielddoc">
Face horizontal size (pixels). </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a44bf01b8518f53d5229cdd646b79764c"></a>uint32_t</td>
<td class="fieldname">
height</td>
<td class="fielddoc">
Face vertical size (pixels). </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="ad19e70ff90746630ef701c896812e2ab"></a>float</td>
<td class="fieldname">
confidence</td>
<td class="fielddoc">
Face detection confidence. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="ae9c5e44ff182412d109d1163987d62ae"></a><a class="el" href="group__template__generation.html#gae7fdaa1c8ceeea43aaf6c041835ee250">roc_person_id</a></td>
<td class="fieldname">
person_id</td>
<td class="fielddoc">
Unique identifier for the person or <a class="el" href="group__template__generation.html#ga6f366f6f2ee8adef553625abf2bafd44">ROC_UNKNOWN_PERSON</a> by default. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a446dd06aae0fa4438030dc3e202dee6f"></a>uint32_t</td>
<td class="fieldname">
md_size</td>
<td class="fielddoc">
Length of a null-terminated JSON <a class="el" href="group__template__generation.html#ab37ef6809d5d0fd91299e2292ec0e6eb">md</a> string, including the null-terminator character. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="af784e169e8786d1998a5c0301a236e9f"></a>uint32_t</td>
<td class="fieldname">
fv_size</td>
<td class="fielddoc">
Length of the feature vector <a class="el" href="group__template__generation.html#a931dc953dc2fd022d1598c72a74ad64e">fv</a>. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a9e0939475e2261fcdb2d2848eebf8dc1"></a>uint32_t</td>
<td class="fieldname">
tn_size</td>
<td class="fielddoc">
Length of face thumbnail <a class="el" href="group__template__generation.html#a4e90ddd8de3c6a79234a838f781c99da">tn</a>. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="ab37ef6809d5d0fd91299e2292ec0e6eb"></a>const char *</td>
<td class="fieldname">
md</td>
<td class="fielddoc">
Null-terminated JSON string of length <a class="el" href="group__template__generation.html#a446dd06aae0fa4438030dc3e202dee6f">md_size</a>. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a931dc953dc2fd022d1598c72a74ad64e"></a>const uint8_t *</td>
<td class="fieldname">
fv</td>
<td class="fielddoc">
<a class="el" href="group__template__generation.html#feature_vector">Feature Vector</a> of length <a class="el" href="group__template__generation.html#af784e169e8786d1998a5c0301a236e9f">fv_size</a>. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a4e90ddd8de3c6a79234a838f781c99da"></a>const uint8_t *</td>
<td class="fieldname">
tn</td>
<td class="fielddoc">
JPEG-encoded face thumbnail of length <a class="el" href="group__template__generation.html#a9e0939475e2261fcdb2d2848eebf8dc1">tn_size</a>, see <a class="el" href="group__template__generation.html#gga41aa0ed23d103b43850128951e1ea29aaef28094ae47743e13f7e20212871672f">ROC_THUMBNAIL</a>. </td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ga64c21f5bb30ab9053888ed9565f6a739"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ROC_NO_TIMESTAMP&#160;&#160;&#160;0xFFFFFFFF</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Default value for <a class="el" href="group__template__generation.html#ae80b4f3992238f99dfd9a1ca59e37899">roc_template::timestamp</a>, indicating the template was generated from a still image. </p>
<p>Equal to 2^32 - 1. </p>

</div>
</div>
<a class="anchor" id="ga6f366f6f2ee8adef553625abf2bafd44"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ROC_UNKNOWN_PERSON&#160;&#160;&#160;0xFFFFFFFF</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Default value for <a class="el" href="group__template__generation.html#ae9c5e44ff182412d109d1163987d62ae">roc_template::person_id</a>, indicating the template has no known associations. </p>
<p>Equal to 2^32 - 1. </p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="ga18dd00d1cdedda7be7e6103b69d8ef04"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint32_t <a class="el" href="group__template__generation.html#ga18dd00d1cdedda7be7e6103b69d8ef04">roc_algorithm_id</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A combination of <a class="el" href="group__template__generation.html#ga41aa0ed23d103b43850128951e1ea29a">roc_algorithm_options</a>. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__template__generation.html#specifying_an_algorithm_id">Specifying an Algorithm ID</a> </dd></dl>

</div>
</div>
<a class="anchor" id="gae7fdaa1c8ceeea43aaf6c041835ee250"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint32_t <a class="el" href="group__template__generation.html#gae7fdaa1c8ceeea43aaf6c041835ee250">roc_person_id</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A unique identifier used to associate multiple <a class="el" href="group__template__generation.html#structroc__template">roc_template</a>. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__identity__discovery.html">Identity Discovery</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ga5a18ec2e35732223536d3ed33c417122"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="group__template__generation.html#structroc__template">roc_template</a>  <a class="el" href="group__template__generation.html#structroc__template">roc_template</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A digital encoding of a face. </p>
<p>A pair of templates can be compared for similarity.</p>
<p>Templates are designed with the following considerations in mind:</p><ul>
<li>Maximizing the retention of the unique identifying characteristics of a face.</li>
<li>Minimizing the computation time needed to compare two templates.</li>
<li>Minimizing the computation time needed to generate a template.</li>
<li>Minimizing the storage space required to save a template.</li>
</ul>
<h1><a class="anchor" id="template_metadata"></a>
Metadata</h1>
<p>A template's <em>metadata</em> is a <a href="http://json.org/"><em>Java Script Object Notation</em> (JSON)</a> string containing at least the following keys: </p><table class="doxtable">
<tr>
<th>Key </th><th>Definition  </th></tr>
<tr>
<td><code>LeftEyeX</code> </td><td>Left eye horizontal location (pixels). </td></tr>
<tr>
<td><code>LeftEyeY</code> </td><td>Left eye vertical location (pixels). </td></tr>
<tr>
<td><code>RightEyeX</code> </td><td>Right eye horizontal location (pixels). </td></tr>
<tr>
<td><code>RightEyeY</code> </td><td>Right eye vertical location (pixels). </td></tr>
<tr>
<td><code>ChinX</code> </td><td>Chin horizontal location (pixels). </td></tr>
<tr>
<td><code>ChinY</code> </td><td>Chin vertical location (pixels). </td></tr>
<tr>
<td><code>Pose</code> </td><td>Pose estimation (Frontal, RightAngled, LeftAngled) </td></tr>
</table>
<p>Additional keys exist for the requested <a class="el" href="group__template__generation.html#metadata_options">Metadata Options</a>. Metadata may be queried and edited using <a class="el" href="group__template__io.html#gaa3b2e16d00505cfae5e125b7fc1fad8f">roc_get_metadata</a> and <a class="el" href="group__template__io.html#ga982ee5ff0a5d7aa63c566e9820ce540c">roc_set_metadata</a>.</p>
<h1><a class="anchor" id="feature_vector"></a>
Feature Vector</h1>
<p>A template's <em>feature vector</em> is the statistical model of the distinguishing characteristics of a face and is the basis for measuring <a class="el" href="group__comparison.html#ga83806aae1401fea0b70991ea4e58df0b">roc_similarity</a>. It is stored in the template as <a class="el" href="group__template__generation.html#a931dc953dc2fd022d1598c72a74ad64e">roc_template::fv</a> and has length <a class="el" href="group__template__generation.html#af784e169e8786d1998a5c0301a236e9f">roc_template::fv_size</a>.</p>
<h1><a class="anchor" id="face_quality"></a>
Face Quality</h1>
<p>A <em>face quality</em> metric is a predictor of how accurately a template will perform in recognition. A higher face quality indicates a lower false non-match rate. The use of a face quality metric most often arises when one has multiple templates of a person and needs to decide which to add to a gallery. Absent of adding all the templates (or some subset thereof using <a class="el" href="group__identity__discovery.html#gac1a923abaccb5c1273cdfb374d33a949">roc_consolidate</a>), we recommend using <a class="el" href="group__template__generation.html#ad19e70ff90746630ef701c896812e2ab">roc_template::confidence</a> as the face quality metric, keeping the template with the highest face detection confidence.</p>
<h1><a class="anchor" id="face_liveness_detection"></a>
Face Liveness Detection</h1>
<p>A <em>face liveness detection</em> algorithm attempts to determine if the detected face is a living person or an impostor trying to defeat the system with a stolen face image.</p>
<p>A <em>dynamic</em> algorithm generally involves asking the user to complete a task. For example, asking the user to turn their head to the left or the right, cover their mouth with their hand, or open their mouth. These movements can be measured using <a class="el" href="group__template__generation.html#gga41aa0ed23d103b43850128951e1ea29aa9ec0d523707a2939ec84406e4bedaa8b">ROC_PITCHYAW</a>, <a class="el" href="group__template__generation.html#gga41aa0ed23d103b43850128951e1ea29aad4946e05b24734fa9949b81f4b023b48">ROC_OCCLUSION</a>, and <a class="el" href="group__template__generation.html#gga41aa0ed23d103b43850128951e1ea29aab526fb2423af12629c1b7bf5343b4102">ROC_LIPS</a> respectively. These algorithms generally have low error rates, at the cost of requiring a few seconds of interaction from the user.</p>
<p>A <em>static</em> algorithm attempts to detect the impostor from a single image. For example, detecting if the face image is on a printed piece of paper or computer screen. These algorithms generaly have higher error rates, with the benefit that they do not require interaction from the user. At the present time, the ROC SDK does not support this type of liveness detection. </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="ga41aa0ed23d103b43850128951e1ea29a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__template__generation.html#ga41aa0ed23d103b43850128951e1ea29a">roc_algorithm_options</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Supported algorithm configurations. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__template__generation.html#specifying_an_algorithm_id">Specifying an Algorithm ID</a> </dd></dl>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="gga41aa0ed23d103b43850128951e1ea29aabfae75b262681b48812700295fe87b8b"></a>ROC_FRONTAL&#160;</td><td class="fielddoc">
<p>Detect faces from -30 to +30 degrees yaw. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga41aa0ed23d103b43850128951e1ea29aa8ce4c83b73e87e1c818c502fec9e8e00"></a>ROC_FULL&#160;</td><td class="fielddoc">
<p>Detect faces from -100 to +100 degrees yaw. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga41aa0ed23d103b43850128951e1ea29aa7ee670c0d340cacbe3f72f0224a9c1a6"></a>ROC_PARTIAL&#160;</td><td class="fielddoc">
<p>Detect faces in which the upper or lower half of the face is occluded. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga41aa0ed23d103b43850128951e1ea29aa71e38ae9892dfb94c2647cdfc99de7ed"></a>ROC_MANUAL&#160;</td><td class="fielddoc">
<p>Bypass automatic face detection by using caller-provided bounding boxes. </p>
<dl class="section user"><dt>Required Fields</dt><dd>Templates passed to <a class="el" href="group__template__generation.html#ga6a84075c7ecc6cf800d3f2acdac353aa">roc_represent</a> are assumed to provide valid values for:<ul>
<li><a class="el" href="group__template__generation.html#abf065af19ba6b48dc4722a26e53b7e29">roc_template::x</a></li>
<li><a class="el" href="group__template__generation.html#ae3e6faa00675f0e040c890a3abe1e402">roc_template::y</a></li>
<li><a class="el" href="group__template__generation.html#a80d874747488d3b47d3970433c22427d">roc_template::width</a></li>
<li><a class="el" href="group__template__generation.html#a44bf01b8518f53d5229cdd646b79764c">roc_template::height</a></li>
<li><a class="el" href="group__template__generation.html#ad19e70ff90746630ef701c896812e2ab">roc_template::confidence</a></li>
<li><a class="el" href="group__template__generation.html#a446dd06aae0fa4438030dc3e202dee6f">roc_template::md_size</a></li>
<li><a class="el" href="group__template__generation.html#ab37ef6809d5d0fd91299e2292ec0e6eb">roc_template::md</a></li>
</ul>
</dd></dl>
<p>All other fields may be uninitialized.</p>
<dl class="section user"><dt>When To Use</dt><dd>The suggested use case for <a class="el" href="group__template__generation.html#gga41aa0ed23d103b43850128951e1ea29aa71e38ae9892dfb94c2647cdfc99de7ed">ROC_MANUAL</a> is when the caller wishes to break up face detection (e.g. <a class="el" href="group__template__generation.html#gga41aa0ed23d103b43850128951e1ea29aabfae75b262681b48812700295fe87b8b">ROC_FRONTAL</a>) and face representation (e.g. <a class="el" href="group__template__generation.html#gga41aa0ed23d103b43850128951e1ea29aaf197918f5273b69a8f29fb75f18d7586">ROC_FR</a>) into two separate calls to <a class="el" href="group__template__generation.html#ga6a84075c7ecc6cf800d3f2acdac353aa">roc_represent</a>. The required fields must be obtained from a prior call to <a class="el" href="group__template__generation.html#ga6a84075c7ecc6cf800d3f2acdac353aa">roc_represent</a>, faces obtained from alternative face detection algorithms or manual annotation are not supported.</dd></dl>
<dl class="section user"><dt>Memory Management</dt><dd>Importantly, the caller is responsible for managing the memory of both the input <em>and</em> output templates. The input and output templates are always distinct. </dd></dl>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga41aa0ed23d103b43850128951e1ea29aaf197918f5273b69a8f29fb75f18d7586"></a>ROC_FR&#160;</td><td class="fielddoc">
<p>Represent in-the-wild faces for comparison. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga41aa0ed23d103b43850128951e1ea29aaca1a2b1606ebcfb5a0499723bd0c137f"></a>ROC_ID&#160;</td><td class="fielddoc">
<p>Represent controlled-capture faces for comparison. </p>
<p>Use this algorithm for improved accuracy on databases of driver's license, passport, mugshot or other ID-card like images. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga41aa0ed23d103b43850128951e1ea29aa9ec0d523707a2939ec84406e4bedaa8b"></a>ROC_PITCHYAW&#160;</td><td class="fielddoc">
<p>Add <code>Yaw</code> and <code>Pitch</code> (degrees) estimation to the template metadata. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga41aa0ed23d103b43850128951e1ea29aa6d704837f6f475eff63fea4d1533f462"></a>ROC_GENDER&#160;</td><td class="fielddoc">
<p>Add <code>Gender</code> (<code>Male</code> or <code>Female</code>) estimation to the template metadata. Requires <a class="el" href="group__template__generation.html#gga41aa0ed23d103b43850128951e1ea29aaf197918f5273b69a8f29fb75f18d7586">ROC_FR</a>. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga41aa0ed23d103b43850128951e1ea29aacdffb53ddb508920556bc4f5d2e12020"></a>ROC_AGE&#160;</td><td class="fielddoc">
<p>Add <code>Age</code> (years old) estimation to the template metadata. Requires <a class="el" href="group__template__generation.html#gga41aa0ed23d103b43850128951e1ea29aaf197918f5273b69a8f29fb75f18d7586">ROC_FR</a>. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga41aa0ed23d103b43850128951e1ea29aad4946e05b24734fa9949b81f4b023b48"></a>ROC_OCCLUSION&#160;</td><td class="fielddoc">
<p>Add <code>Occlusion</code> estimation to the template metadata, value is either <code>true</code> or <code>false</code>. Requires <a class="el" href="group__template__generation.html#gga41aa0ed23d103b43850128951e1ea29aaf197918f5273b69a8f29fb75f18d7586">ROC_FR</a>. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga41aa0ed23d103b43850128951e1ea29aab526fb2423af12629c1b7bf5343b4102"></a>ROC_LIPS&#160;</td><td class="fielddoc">
<p>Add <code>Lips</code> position estimation to the template metadata, value is either <code>"Together"</code> or <code>"Apart"</code>. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga41aa0ed23d103b43850128951e1ea29aaef28094ae47743e13f7e20212871672f"></a>ROC_THUMBNAIL&#160;</td><td class="fielddoc">
<p>Align, scale, crop, <code>JPEG</code> encode, and store the face image in <a class="el" href="group__template__generation.html#a4e90ddd8de3c6a79234a838f781c99da">roc_template::tn</a>. </p>
<p>Control thumbnail quality with <a class="el" href="group__template__generation.html#gac8a4c7df842d08d881b779620ebc24bf">roc_set_thumbnail_parameters</a>. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga41aa0ed23d103b43850128951e1ea29aadb4ae21de578c370d01d845b77c74c05"></a>ROC_INVALID&#160;</td><td class="fielddoc">
<p>The <a class="el" href="group__template__generation.html#structroc__template">roc_template</a> was not initialized by <a class="el" href="group__template__generation.html#ga6a84075c7ecc6cf800d3f2acdac353aa">roc_represent</a>. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga41aa0ed23d103b43850128951e1ea29aa84ead5119d2d84cb4cc66a101ff1b1f0"></a>ROC_TEMPLATE_VERSION&#160;</td><td class="fielddoc">
<p>The format of <a class="el" href="group__template__generation.html#a931dc953dc2fd022d1598c72a74ad64e">roc_template::fv</a> changes between releases, this field is used to check template compatibility. </p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;roc_template t = ...;</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;if (t-&gt;algorithm_id &amp; ROC_TEMPLATE_VERSION_MASK == ROC_TEMPLATE_VERSION)</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;    ...; // compatible with current SDK</div></div><!-- fragment --> </td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga41aa0ed23d103b43850128951e1ea29aa767a46240bdc94431828eaed80ddd013"></a>ROC_TEMPLATE_VERSION_MASK&#160;</td><td class="fielddoc">
<p>See <a class="el" href="group__template__generation.html#gga41aa0ed23d103b43850128951e1ea29aa84ead5119d2d84cb4cc66a101ff1b1f0">ROC_TEMPLATE_VERSION</a>. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gac8a4c7df842d08d881b779620ebc24bf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__error__handling.html#ga513488f0c61cf769a95033e5a6d901b3">roc_error</a> roc_set_thumbnail_parameters </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>scale</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>quality</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the parameters used by <a class="el" href="group__template__generation.html#gga41aa0ed23d103b43850128951e1ea29aaef28094ae47743e13f7e20212871672f">ROC_THUMBNAIL</a> in <a class="el" href="group__template__generation.html#ga6a84075c7ecc6cf800d3f2acdac353aa">roc_represent</a>. </p>
<p>A <em>thumbnail</em> is an aligned and cropped face image suitable for displaying.</p>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><a class="code" href="group__template__generation.html#gac8a4c7df842d08d881b779620ebc24bf">roc_set_thumbnail_parameters</a>(192, 256, 0.6, 32);</div></div><!-- fragment --></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">width</td><td>Thumbnail image width in pixels. The default is <b>192</b>, and the range is 32 to 1024. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">height</td><td>Thumbnail image height in pixels. The default is <b>256</b>, and the range is 32 to 1024. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">scale</td><td>Thumbnail face scale, where larger values are a tighter cropping. The default is <b>0.6</b>, and the range is 0.1 to 1.0. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">quality</td><td>Thumbnail quality, where larger values are higher quality at the expense of more storage. The default is <b>32</b>, and the range is 0 to 100. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is <a class="el" href="api.html#thread-unsafe">thread-unsafe</a>. </dd></dl>

</div>
</div>
<a class="anchor" id="ga85ade71483b575925622b072c0d5ef62"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__error__handling.html#ga513488f0c61cf769a95033e5a6d901b3">roc_error</a> roc_preload </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__template__generation.html#ga18dd00d1cdedda7be7e6103b69d8ef04">roc_algorithm_id</a>&#160;</td>
          <td class="paramname"><em>algorithm_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pre-load the model files to be used by <a class="el" href="group__template__generation.html#ga6a84075c7ecc6cf800d3f2acdac353aa">roc_represent</a>. </p>
<p>See <a class="el" href="group__template__generation.html#lazy_initialization">Lazy Initialization</a> for details.</p>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><a class="code" href="group__template__generation.html#ga85ade71483b575925622b072c0d5ef62">roc_preload</a>(<a class="code" href="group__template__generation.html#gga41aa0ed23d103b43850128951e1ea29aabfae75b262681b48812700295fe87b8b">ROC_FRONTAL</a> | <a class="code" href="group__template__generation.html#gga41aa0ed23d103b43850128951e1ea29aaf197918f5273b69a8f29fb75f18d7586">ROC_FR</a>);</div></div><!-- fragment --></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">algorithm_id</td><td>Pre-load the model files to be used by <a class="el" href="group__template__generation.html#ga6a84075c7ecc6cf800d3f2acdac353aa">roc_represent</a> for this <a class="el" href="group__template__generation.html#ga18dd00d1cdedda7be7e6103b69d8ef04">roc_algorithm_id</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is <a class="el" href="api.html#thread-safe">thread-safe</a>. </dd></dl>

</div>
</div>
<a class="anchor" id="gacd9b28e0fe3f43e4ac67092ad23f02d3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__error__handling.html#ga513488f0c61cf769a95033e5a6d901b3">roc_error</a> roc_landmarks_to_face </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>left_eye_x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>left_eye_y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>right_eye_x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>right_eye_y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>chin_x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>chin_y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>face_x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>face_y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>face_width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>face_height</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Estimate the face bounding box from landmarks. </p>
<p>Used for manual face enrollment with <a class="el" href="group__template__generation.html#gga41aa0ed23d103b43850128951e1ea29aa71e38ae9892dfb94c2647cdfc99de7ed">ROC_MANUAL</a>.</p>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">float</span> left_eye_x = ...;</div><div class="line"><span class="keywordtype">float</span> left_eye_y = ...;</div><div class="line"><span class="keywordtype">float</span> right_eye_x = ...;</div><div class="line"><span class="keywordtype">float</span> right_eye_y = ...;</div><div class="line"><span class="keywordtype">float</span> chin_x = ...;</div><div class="line"><span class="keywordtype">float</span> chin_y = ...;</div><div class="line"><span class="keywordtype">float</span> face_x, face_y, face_width, face_height;</div><div class="line"><a class="code" href="group__template__generation.html#gacd9b28e0fe3f43e4ac67092ad23f02d3">roc_landmarks_to_face</a>(left_eye_x, left_eye_y,</div><div class="line">                      right_eye_x, right_eye_y,</div><div class="line">                      chin_x, chin_y,</div><div class="line">                      &amp;face_x, &amp;face_y, &amp;face_width, &amp;face_height);</div></div><!-- fragment --> </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">left_eye_x</td><td>Left eye horizontal location (pixels). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">left_eye_y</td><td>Left eye vertical location (pixels). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">right_eye_x</td><td>Right eye horizontal location (pixels). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">right_eye_y</td><td>Right eye vertical location (pixels). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">chin_x</td><td>Chin horizontal location (pixels). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">chin_y</td><td>Chin vertical location (pixels). </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">face_x</td><td>Face horizontal offset (pixels). </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">face_y</td><td>Face vertical offset (pixels). </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">face_width</td><td>Face horizontal size (pixels). </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">face_height</td><td>Face vertical size (pixels). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga6a84075c7ecc6cf800d3f2acdac353aa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__error__handling.html#ga513488f0c61cf769a95033e5a6d901b3">roc_error</a> roc_represent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__media__decoding.html#structroc__image">roc_image</a>&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__template__generation.html#ga18dd00d1cdedda7be7e6103b69d8ef04">roc_algorithm_id</a>&#160;</td>
          <td class="paramname"><em>algorithm_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>min_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>k</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>false_detection_rate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__template__generation.html#structroc__template">roc_template</a> *&#160;</td>
          <td class="paramname"><em>templates</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Detect faces in an image and process them into templates for comparison. </p>
<p>Each face is represented by a <a class="el" href="group__template__generation.html#structroc__template" title="A digital encoding of a face. ">roc_template</a>. In the case that the number of enrollable faces is greater than <code>k</code>, the implementation will choose which faces to exclude, potentially returning early before scanning the entire image. In the case that the number of enrollable faces is less than <code>k</code>, the trailing elements of <code>templates</code> will have <a class="el" href="group__template__generation.html#a991107a8ebce1f2408b333567bb48246">roc_template::algorithm_id</a> set to <a class="el" href="group__template__generation.html#gga41aa0ed23d103b43850128951e1ea29aadb4ae21de578c370d01d845b77c74c05">ROC_INVALID</a>. The populated <code>templates</code> will be returned sorted by decreasing <a class="el" href="group__template__generation.html#ad19e70ff90746630ef701c896812e2ab">roc_template::confidence</a>.</p>
<p>Each <a class="el" href="group__template__generation.html#structroc__template">roc_template</a> in <code>templates</code> should be freed after use with <a class="el" href="group__template__generation.html#gaa6dc3df8ecaa702eba8feac128fdae3d">roc_free_template</a>.</p>
<p>This function is exposed in the <a class="el" href="cli.html">Command Line Interface</a> as <a class="el" href="roc-represent.html">roc-represent</a> and <a class="el" href="roc-represent-video.html">roc-represent-video</a>.</p>
<h1><a class="anchor" id="specifying_an_algorithm_id"></a>
Specifying an Algorithm ID</h1>
<p>The <code>algorithm_id</code> is a combination of <a class="el" href="group__template__generation.html#ga41aa0ed23d103b43850128951e1ea29a">roc_algorithm_options</a> indicating how to process faces in an image. There are three components to an algorithm id: detection, representation and metadata. Components are combined together using an <em>or</em> operation, as in <a class="el" href="group__template__generation.html#algorithm_id_examples">Algorithm ID Examples</a>. You do not need to specify <a class="el" href="group__template__generation.html#gga41aa0ed23d103b43850128951e1ea29aa84ead5119d2d84cb4cc66a101ff1b1f0">ROC_TEMPLATE_VERSION</a>, this will be added automatically.</p>
<h2><a class="anchor" id="detection_options"></a>
Detection Options</h2>
<p><em>Exactly one</em> option should be specified to indicate the desired face detection mechanism.</p>
<table class="doxtable">
<tr>
<th>Detection Options </th><th>Description  </th></tr>
<tr>
<td><a class="el" href="group__template__generation.html#gga41aa0ed23d103b43850128951e1ea29aabfae75b262681b48812700295fe87b8b">ROC_FRONTAL</a> </td><td>Detect faces from -30 to +30 degrees yaw. </td></tr>
<tr>
<td><a class="el" href="group__template__generation.html#gga41aa0ed23d103b43850128951e1ea29aa8ce4c83b73e87e1c818c502fec9e8e00">ROC_FULL</a> </td><td>Detect faces from -100 to +100 degrees yaw. </td></tr>
<tr>
<td><a class="el" href="group__template__generation.html#gga41aa0ed23d103b43850128951e1ea29aa7ee670c0d340cacbe3f72f0224a9c1a6">ROC_PARTIAL</a> </td><td>Detect faces in which the upper or lower half of the face is occluded. </td></tr>
<tr>
<td><a class="el" href="group__template__generation.html#gga41aa0ed23d103b43850128951e1ea29aa71e38ae9892dfb94c2647cdfc99de7ed">ROC_MANUAL</a> </td><td>Bypass automatic face detection by using caller-provided bounding boxes. </td></tr>
</table>
<dl class="section note"><dt>Note</dt><dd>Non-frontal faces detected by <a class="el" href="group__template__generation.html#gga41aa0ed23d103b43850128951e1ea29aa8ce4c83b73e87e1c818c502fec9e8e00">ROC_FULL</a> and <a class="el" href="group__template__generation.html#gga41aa0ed23d103b43850128951e1ea29aa7ee670c0d340cacbe3f72f0224a9c1a6">ROC_PARTIAL</a> are <em>not</em> reliable for recognition. Therefore we advise against using <a class="el" href="group__template__generation.html#gga41aa0ed23d103b43850128951e1ea29aa8ce4c83b73e87e1c818c502fec9e8e00">ROC_FULL</a> or <a class="el" href="group__template__generation.html#gga41aa0ed23d103b43850128951e1ea29aa7ee670c0d340cacbe3f72f0224a9c1a6">ROC_PARTIAL</a> in conjunction with <a class="el" href="group__template__generation.html#gga41aa0ed23d103b43850128951e1ea29aaf197918f5273b69a8f29fb75f18d7586">ROC_FR</a> or <a class="el" href="group__template__generation.html#gga41aa0ed23d103b43850128951e1ea29aaca1a2b1606ebcfb5a0499723bd0c137f">ROC_ID</a>.</dd></dl>
<h2><a class="anchor" id="representation_options"></a>
Representation Options</h2>
<p><em>At most one</em> option should be specified to indicate the desired face comparison mechanism. If neither option is specified, <a class="el" href="group__template__generation.html#af784e169e8786d1998a5c0301a236e9f">roc_template::fv_size</a> will be zero and the resulting <a class="el" href="group__template__generation.html#structroc__template">roc_template</a> <em>can not</em> be used in <a class="el" href="group__comparison.html#ga8c7b30fae170fa1eb25d9c88894bee55">roc_compare_templates</a> or <a class="el" href="group__search.html#ga27c6a7784b0c087e75e7ed69b91ea13b">roc_search</a>.</p>
<table class="doxtable">
<tr>
<th>Representation Options </th><th>Description  </th></tr>
<tr>
<td><a class="el" href="group__template__generation.html#gga41aa0ed23d103b43850128951e1ea29aaf197918f5273b69a8f29fb75f18d7586">ROC_FR</a> </td><td>Represent in-the-wild faces for comparison. </td></tr>
<tr>
<td><a class="el" href="group__template__generation.html#gga41aa0ed23d103b43850128951e1ea29aaca1a2b1606ebcfb5a0499723bd0c137f">ROC_ID</a> </td><td>Represent controlled-capture faces for comparison. </td></tr>
<tr>
<td><em>None</em> </td><td>No face comparison needed </td></tr>
</table>
<dl class="section note"><dt>Note</dt><dd>A <a class="el" href="group__template__generation.html#gga41aa0ed23d103b43850128951e1ea29aaf197918f5273b69a8f29fb75f18d7586">ROC_FR</a> template can <em>not</em> be compared to a <a class="el" href="group__template__generation.html#gga41aa0ed23d103b43850128951e1ea29aaca1a2b1606ebcfb5a0499723bd0c137f">ROC_ID</a> template.</dd></dl>
<h2><a class="anchor" id="metadata_options"></a>
Metadata Options</h2>
<p>Each metadata option may be <em>optionally</em> included to add additional fields to the <a class="el" href="group__template__generation.html#template_metadata">Metadata</a>.</p>
<table class="doxtable">
<tr>
<th>Metadata Options </th><th>Description  </th></tr>
<tr>
<td><a class="el" href="group__template__generation.html#gga41aa0ed23d103b43850128951e1ea29aa9ec0d523707a2939ec84406e4bedaa8b">ROC_PITCHYAW</a> </td><td>Add <code>Yaw</code> and <code>Pitch</code> (degrees) estimation to the template metadata. </td></tr>
<tr>
<td><a class="el" href="group__template__generation.html#gga41aa0ed23d103b43850128951e1ea29aa6d704837f6f475eff63fea4d1533f462">ROC_GENDER</a> </td><td>Add <code>Gender</code> (<code>Male</code> or <code>Female</code>) estimation to the template metadata. Requires <a class="el" href="group__template__generation.html#gga41aa0ed23d103b43850128951e1ea29aaf197918f5273b69a8f29fb75f18d7586">ROC_FR</a>. </td></tr>
<tr>
<td><a class="el" href="group__template__generation.html#gga41aa0ed23d103b43850128951e1ea29aacdffb53ddb508920556bc4f5d2e12020">ROC_AGE</a> </td><td>Add <code>Age</code> (years old) estimation to the template metadata. Requires <a class="el" href="group__template__generation.html#gga41aa0ed23d103b43850128951e1ea29aaf197918f5273b69a8f29fb75f18d7586">ROC_FR</a>. </td></tr>
<tr>
<td><a class="el" href="group__template__generation.html#gga41aa0ed23d103b43850128951e1ea29aad4946e05b24734fa9949b81f4b023b48">ROC_OCCLUSION</a> </td><td>Add <code>Occlusion</code> estimation to the template metadata, value is either <code>true</code> or <code>false</code>. Requires <a class="el" href="group__template__generation.html#gga41aa0ed23d103b43850128951e1ea29aaf197918f5273b69a8f29fb75f18d7586">ROC_FR</a>. </td></tr>
<tr>
<td><a class="el" href="group__template__generation.html#gga41aa0ed23d103b43850128951e1ea29aab526fb2423af12629c1b7bf5343b4102">ROC_LIPS</a> </td><td>Add <code>Lips</code> position estimation to the template metadata, value is either <code>"Together"</code> or <code>"Apart"</code>. </td></tr>
<tr>
<td><a class="el" href="group__template__generation.html#gga41aa0ed23d103b43850128951e1ea29aaef28094ae47743e13f7e20212871672f">ROC_THUMBNAIL</a> </td><td>Align, scale, crop, <code>JPEG</code> encode, and store the face image in <a class="el" href="group__template__generation.html#a4e90ddd8de3c6a79234a838f781c99da">roc_template::tn</a>. </td></tr>
<tr>
<td><em>None</em> </td><td>No additional metadata needed </td></tr>
</table>
<h2><a class="anchor" id="algorithm_id_examples"></a>
Algorithm ID Examples</h2>
<div class="fragment"><div class="line"><span class="comment">// Detect frontal faces and represent for controlled-capture comparison.</span></div><div class="line"><a class="code" href="group__template__generation.html#ga18dd00d1cdedda7be7e6103b69d8ef04">roc_algorithm_id</a> algorithm_id = <a class="code" href="group__template__generation.html#gga41aa0ed23d103b43850128951e1ea29aabfae75b262681b48812700295fe87b8b">ROC_FRONTAL</a> | <a class="code" href="group__template__generation.html#gga41aa0ed23d103b43850128951e1ea29aaca1a2b1606ebcfb5a0499723bd0c137f">ROC_ID</a>;</div></div><!-- fragment --> <div class="fragment"><div class="line"><span class="comment">// Detect frontal faces, represent for in-the-wild comparison, and report</span></div><div class="line"><span class="comment">// gender and pose estimation.</span></div><div class="line"><a class="code" href="group__template__generation.html#ga18dd00d1cdedda7be7e6103b69d8ef04">roc_algorithm_id</a> algorithm_id = <a class="code" href="group__template__generation.html#gga41aa0ed23d103b43850128951e1ea29aabfae75b262681b48812700295fe87b8b">ROC_FRONTAL</a> | <a class="code" href="group__template__generation.html#gga41aa0ed23d103b43850128951e1ea29aaf197918f5273b69a8f29fb75f18d7586">ROC_FR</a> | <a class="code" href="group__template__generation.html#gga41aa0ed23d103b43850128951e1ea29aa6d704837f6f475eff63fea4d1533f462">ROC_GENDER</a> | <a class="code" href="group__template__generation.html#gga41aa0ed23d103b43850128951e1ea29aa9ec0d523707a2939ec84406e4bedaa8b">ROC_PITCHYAW</a>;</div></div><!-- fragment --> <div class="fragment"><div class="line"><span class="comment">// Detect faces across all yaw ranges, report pose estimation, and construct</span></div><div class="line"><span class="comment">// a thumbnail.</span></div><div class="line"><a class="code" href="group__template__generation.html#ga18dd00d1cdedda7be7e6103b69d8ef04">roc_algorithm_id</a> algorithm_id = <a class="code" href="group__template__generation.html#gga41aa0ed23d103b43850128951e1ea29aa8ce4c83b73e87e1c818c502fec9e8e00">ROC_FULL</a> | <a class="code" href="group__template__generation.html#gga41aa0ed23d103b43850128951e1ea29aa9ec0d523707a2939ec84406e4bedaa8b">ROC_PITCHYAW</a> | <a class="code" href="group__template__generation.html#gga41aa0ed23d103b43850128951e1ea29aaef28094ae47743e13f7e20212871672f">ROC_THUMBNAIL</a>;</div></div><!-- fragment --><h1><a class="anchor" id="minimum_size"></a>
Minimum Size</h1>
<p>The <code>min_size</code> parameter indicates the smallest face to detect in an image. Face detection size is measured by the width of the face in pixels. The suggested default value for <code>min_size</code> is <code>36</code>, which corresponds roughly to 18 pixels between the eyes. A larger value for <code>min_size</code> will result in faster execution speed as less time will be spent scanning the image for small faces. While faces smaller than 36 pixels can be detected, they will be unreliable for recognition.</p>
<h2><a class="anchor" id="adaptive_minimum_size"></a>
Adaptive Minimum Size</h2>
<p>In the interest of efficiency, it is recommended to set an additional lower bound on the minimum face size as a fraction of the image size. An <em>adaptive minimum size</em> of 4% is computed as:</p>
<div class="fragment"><div class="line"><span class="keywordtype">size_t</span> max(<span class="keywordtype">size_t</span> x, <span class="keywordtype">size_t</span> y) { <span class="keywordflow">return</span> x &gt; y ? x : y; }</div><div class="line"></div><div class="line"><a class="code" href="group__media__decoding.html#structroc__image">roc_image</a> image = ...;</div><div class="line"><span class="keywordtype">size_t</span> minimumSize = ...;</div><div class="line">minimumSize = max(minimumSize,</div><div class="line">                  (<span class="keywordtype">size_t</span>)(0.04 * max(image.<a class="code" href="group__media__decoding.html#a3305485b93f92eb78ef7dc856a62cd8d">width</a>, image.<a class="code" href="group__media__decoding.html#ac473b02eef9ce5252b7a56ee807a2ab2">height</a>)));</div></div><!-- fragment --><h1><a class="anchor" id="maximum_faces"></a>
Maximum Faces</h1>
<p>The <code>k</code> parameter indicates the maximum number of faces to detect in an image. This allows the function to return early without scanning the entire image if it has found the requested number of faces.</p>
<h1><a class="anchor" id="false_detection_rate"></a>
False Detection Rate</h1>
<p>The <code>false_detection_rate</code> parameter specifies the allowable false positive rate for face detection. The suggested default value for <code>false_detection_rate</code> is <code>0.02</code> which corresponds to one false detection in 50 images on the <a href="http://vis-www.cs.umass.edu/fddb/">FDDB</a> benchmark. A higher false detection rate will correctly detect more faces at the cost of also incorrectly detecting more non-faces. The accepted range of values for <code>false_accept_rate</code> is <code>0.001</code> to <code>0.2</code>. Values outside this range will be truncated automatically.</p>
<h1><a class="anchor" id="lazy_initialization"></a>
Lazy Initialization</h1>
<p>This first call to this function incurs additional overhead as the model files needed to execute the specified <code>algorithm_id</code> are loaded from disk. Call <a class="el" href="group__template__generation.html#ga85ade71483b575925622b072c0d5ef62">roc_preload</a> to avoid incuring this overhead on the first call.</p>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><a class="code" href="group__media__decoding.html#structroc__image">roc_image</a> image = ...;</div><div class="line"><a class="code" href="group__template__generation.html#structroc__template">roc_template</a> templates[3];</div><div class="line"><a class="code" href="group__template__generation.html#ga6a84075c7ecc6cf800d3f2acdac353aa">roc_represent</a>(image, <a class="code" href="group__template__generation.html#gga41aa0ed23d103b43850128951e1ea29aabfae75b262681b48812700295fe87b8b">ROC_FRONTAL</a> | <a class="code" href="group__template__generation.html#gga41aa0ed23d103b43850128951e1ea29aaf197918f5273b69a8f29fb75f18d7586">ROC_FR</a>, 36, 3, 0.02f,</div><div class="line">              (<a class="code" href="group__template__generation.html#structroc__template">roc_template</a>*) &amp;templates);</div></div><!-- fragment --></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">image</td><td>Input image to process for faces. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">algorithm_id</td><td>Algorithm identifier, see <a class="el" href="group__template__generation.html#specifying_an_algorithm_id">Specifying an Algorithm ID</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">min_size</td><td>Minimum size face to detect, see <a class="el" href="group__template__generation.html#minimum_size">Minimum Size</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">k</td><td>The desired number of face templates, see <a class="el" href="group__template__generation.html#maximum_faces">Maximum Faces</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">false_detection_rate</td><td>The lower bound for face detection confidence, see <a class="el" href="group__template__generation.html#false_detection_rate">False Detection Rate</a>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">templates</td><td>Pre-allocated array to hold the generated templates. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is <a class="el" href="api.html#reentrant">reentrant</a>. </dd></dl>

</div>
</div>
<a class="anchor" id="gaa6dc3df8ecaa702eba8feac128fdae3d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__error__handling.html#ga513488f0c61cf769a95033e5a6d901b3">roc_error</a> roc_free_template </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__template__generation.html#structroc__template">roc_template</a> *&#160;</td>
          <td class="paramname"><em>template_</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Call this function on a template after it is no longer needed. </p>
<p>Frees the memory previously allocated for <a class="el" href="group__template__generation.html#a931dc953dc2fd022d1598c72a74ad64e">roc_template::fv</a>, <a class="el" href="group__template__generation.html#ab37ef6809d5d0fd91299e2292ec0e6eb">roc_template::md</a>, and <a class="el" href="group__template__generation.html#a4e90ddd8de3c6a79234a838f781c99da">roc_template::tn</a>. Sets <a class="el" href="group__template__generation.html#a991107a8ebce1f2408b333567bb48246">roc_template::algorithm_id</a> to <a class="el" href="group__template__generation.html#gga41aa0ed23d103b43850128951e1ea29aadb4ae21de578c370d01d845b77c74c05">ROC_INVALID</a>. If <code>template_</code> is <code>NULL</code>, this function does nothing. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">template_</td><td>The template to deallocate. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function is <a class="el" href="api.html#reentrant">reentrant</a>. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
